<div data-aid="report-mini-top-videos" class="kReport kOverrideFAIcons">
  <div class="kFilters">
    <span class="kTitle">Top search terms in the last 2 weeks</span>
  </div>
  <div class="kReportContent">
    <k-area-blocker [showLoader]="_loading" [message]="_blockerMessage">
      <div class="divider">
        <div class="chart">
          <div class="header">

            <svg width="66" height="34" viewBox="0 0 66 34" fill="none" xmlns="http://www.w3.org/2000/svg" *ngIf="!_showTable" (click)="_showTable=true">
              <path d="M1 5C1 2.79086 2.79086 1 5 1H33V33H5C2.79086 33 1 31.2091 1 29V5Z" fill="white"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.5 12.5C11.3284 12.5 12 11.8284 12 11C12 10.1716 11.3284 9.5 10.5 9.5C9.67157 9.5 9 10.1716 9 11C9 11.8284 9.67157 12.5 10.5 12.5ZM14 11C14 10.4477 14.4477 10 15 10H24C24.5523 10 25 10.4477 25 11C25 11.5523 24.5523 12 24 12H15C14.4477 12 14 11.5523 14 11ZM14 17C14 16.4477 14.4477 16 15 16H24C24.5523 16 25 16.4477 25 17C25 17.5523 24.5523 18 24 18H15C14.4477 18 14 17.5523 14 17ZM14 23C14 22.4477 14.4477 22 15 22H24C24.5523 22 25 22.4477 25 23C25 23.5523 24.5523 24 24 24H15C14.4477 24 14 23.5523 14 23ZM12 17C12 17.8284 11.3284 18.5 10.5 18.5C9.67157 18.5 9 17.8284 9 17C9 16.1716 9.67157 15.5 10.5 15.5C11.3284 15.5 12 16.1716 12 17ZM10.5 24.5C11.3284 24.5 12 23.8284 12 23C12 22.1716 11.3284 21.5 10.5 21.5C9.67157 21.5 9 22.1716 9 23C9 23.8284 9.67157 24.5 10.5 24.5Z" fill="#888888"/>
              <path d="M1 5C1 2.79086 2.79086 1 5 1H33V33H5C2.79086 33 1 31.2091 1 29V5Z" stroke="#CCCCCC"/>
              <path d="M33 1H61C63.2091 1 65 2.79086 65 5V29C65 31.2091 63.2091 33 61 33H33V1Z" fill="#006EFA" fill-opacity="0.1"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M49 10C53.5455 10 57.4273 12.61 59 17C57.4273 21.39 53.5455 24 49 24C44.4545 24 40.5727 21.39 39 17C40.5727 12.61 44.4545 10 49 10ZM49 12C46.2444 12 44 14.2444 44 17C44 19.7556 46.2444 22 49 22C51.7556 22 54 19.7556 54 17C54 14.2444 51.7556 12 49 12ZM52 17C52 15.3467 50.6533 14 49 14C47.3467 14 46 15.3467 46 17C46 18.6533 47.3467 20 49 20C50.6533 20 52 18.6533 52 17Z" fill="#006EFA"/>
              <path d="M33 1H61C63.2091 1 65 2.79086 65 5V29C65 31.2091 63.2091 33 61 33H33V1Z" stroke="#006EFA"/>
            </svg>

            <svg width="66" height="34" viewBox="0 0 66 34" fill="none" xmlns="http://www.w3.org/2000/svg" *ngIf="_showTable" (click)="_showTable=false">
              <path d="M33 1H61C63.2091 1 65 2.79086 65 5V29C65 31.2091 63.2091 33 61 33H33V1Z" fill="white"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M49 10C53.5455 10 57.4273 12.61 59 17C57.4273 21.39 53.5455 24 49 24C44.4545 24 40.5727 21.39 39 17C40.5727 12.61 44.4545 10 49 10ZM49 12C46.2444 12 44 14.2444 44 17C44 19.7556 46.2444 22 49 22C51.7556 22 54 19.7556 54 17C54 14.2444 51.7556 12 49 12ZM52 17C52 15.3467 50.6533 14 49 14C47.3467 14 46 15.3467 46 17C46 18.6533 47.3467 20 49 20C50.6533 20 52 18.6533 52 17Z" fill="#888888"/>
              <path d="M33 1H61C63.2091 1 65 2.79086 65 5V29C65 31.2091 63.2091 33 61 33H33V1Z" stroke="#CCCCCC"/>
              <path d="M1 5C1 2.79086 2.79086 1 5 1H33V33H5C2.79086 33 1 31.2091 1 29V5Z" fill="#006EFA" fill-opacity="0.1"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.5 12.5C11.3284 12.5 12 11.8284 12 11C12 10.1716 11.3284 9.5 10.5 9.5C9.67157 9.5 9 10.1716 9 11C9 11.8284 9.67157 12.5 10.5 12.5ZM14 11C14 10.4477 14.4477 10 15 10H24C24.5523 10 25 10.4477 25 11C25 11.5523 24.5523 12 24 12H15C14.4477 12 14 11.5523 14 11ZM14 17C14 16.4477 14.4477 16 15 16H24C24.5523 16 25 16.4477 25 17C25 17.5523 24.5523 18 24 18H15C14.4477 18 14 17.5523 14 17ZM14 23C14 22.4477 14.4477 22 15 22H24C24.5523 22 25 22.4477 25 23C25 23.5523 24.5523 24 24 24H15C14.4477 24 14 23.5523 14 23ZM12 17C12 17.8284 11.3284 18.5 10.5 18.5C9.67157 18.5 9 17.8284 9 17C9 16.1716 9.67157 15.5 10.5 15.5C11.3284 15.5 12 16.1716 12 17ZM10.5 24.5C11.3284 24.5 12 23.8284 12 23C12 22.1716 11.3284 21.5 10.5 21.5C9.67157 21.5 9 22.1716 9 23C9 23.8284 9.67157 24.5 10.5 24.5Z" fill="#006EFA"/>
              <path d="M1 5C1 2.79086 2.79086 1 5 1H33V33H5C2.79086 33 1 31.2091 1 29V5Z" stroke="#006EFA"/>
            </svg>


            <!--            <p-selectButton [options]="_viewOptions" [(ngModel)]="_selectedView"></p-selectButton>-->
<!--            <button type="button" class="kButtonDefault" pButton (click)="exportChart()" icon="icon-pdf" [kTooltip]="'Export PDF'"></button>-->
          </div>
          <div id="wordsCloud" [class.shown]="_searchTermsLoaded && !_showTable">
            <div class="cover"></div>
          </div>
          <div class="table" [class.shown]="_showTable">
            <p-table [value]="searchTerms">
              <ng-template pTemplate="header">
                <tr>
                  <th>Search Term</th>
                  <th  pSortableColumn="value">Count<p-sortIcon field="value"></p-sortIcon></th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-term>
                <tr>
                  <td>{{term.x}}</td>
                  <td>{{term.value}}</td>
                </tr>
              </ng-template>
            </p-table>
          </div>
        </div>

        <div class="insights" *ngIf="!_loading">
          <div class="blueBkg">
            <img src="assets/images/ai.svg" [class.blink]="_aiLoading">
            <span class="aiTitle">AI Analysis</span>

            <div class="aiResponse"*ngIf="!_showTrends && _categories.length && !_aiLoading && !showError">
              <span class="title">See the common categories </span>
              <div class="aiResponse">
                <div class="row">
                  <div class="tag">
                    <span class="label">{{_categories[0].category}}</span>
                    <span class="label percent">{{_categories[0].percent}}%</span>
                  </div>
                  <div class="tag">
                    <span class="label">{{_categories[1].category}}</span>
                    <span class="label percent">{{_categories[1].percent}}%</span>
                  </div>
                  <div class="tag">
                    <span class="label">{{_categories[2].category}}</span>
                    <span class="label percent">{{_categories[2].percent}}%</span>
                  </div>
                </div>
                <div class="row">
                  <div class="tag">
                    <span class="label">{{_categories[3].category}}</span>
                    <span class="label percent">{{_categories[3].percent}}%</span>
                  </div>
                  <div class="tag">
                    <span class="label">{{_categories[4].category}}</span>
                    <span class="label percent">{{_categories[4].percent}}%</span>
                  </div>
                </div>
              </div>
              <div class="genAiBtn" (click)="showTrends(true)">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M19.4552 10.9986C19.2775 11.3894 18.7225 11.3894 18.5448 10.9986L17.4375 8.5625L15.0014 7.45518C14.6106 7.27755 14.6106 6.72245 15.0014 6.54482L17.4375 5.4375L18.5448 3.0014C18.7225 2.61061 19.2775 2.6106 19.4552 3.0014L20.5625 5.4375L22.9986 6.54482C23.3894 6.72245 23.3894 7.27755 22.9986 7.45518L20.5625 8.5625L19.4552 10.9986Z" fill="white"/>
                  <path d="M9.45518 19.9986C9.27755 20.3894 8.72245 20.3894 8.54482 19.9986L6.5 15.5L2.0014 13.4552C1.61061 13.2775 1.61061 12.7225 2.0014 12.5448L6.5 10.5L8.54482 6.0014C8.72245 5.61061 9.27755 5.61061 9.45518 6.0014L11.5 10.5L15.9986 12.5448C16.3894 12.7225 16.3894 13.2775 15.9986 13.4552L11.5 15.5L9.45518 19.9986Z" fill="white"/>
                </svg>
                <span class="label">Generate Trends</span>
              </div>
            </div>

            <div class="error" *ngIf="showError">
              <span>Error analyzing data...</span>
              <button class="kButtonDefault" pButton (click)="handleError()" label="Try Again"></button>
            </div>

<!--            <div class="row">-->
<!--              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">-->
<!--                <path d="M19.4552 10.9986C19.2775 11.3894 18.7225 11.3894 18.5448 10.9986L17.4375 8.5625L15.0014 7.45518C14.6106 7.27755 14.6106 6.72245 15.0014 6.54482L17.4375 5.4375L18.5448 3.0014C18.7225 2.61061 19.2775 2.6106 19.4552 3.0014L20.5625 5.4375L22.9986 6.54482C23.3894 6.72245 23.3894 7.27755 22.9986 7.45518L20.5625 8.5625L19.4552 10.9986Z" fill="black"/>-->
<!--                <path d="M9.45518 19.9986C9.27755 20.3894 8.72245 20.3894 8.54482 19.9986L6.5 15.5L2.0014 13.4552C1.61061 13.2775 1.61061 12.7225 2.0014 12.5448L6.5 10.5L8.54482 6.0014C8.72245 5.61061 9.27755 5.61061 9.45518 6.0014L11.5 10.5L15.9986 12.5448C16.3894 12.7225 16.3894 13.2775 15.9986 13.4552L11.5 15.5L9.45518 19.9986Z" fill="black"/>-->
<!--                <path d="M16.9942 19.9065C17.0382 19.9265 17.0735 19.9618 17.0935 20.0058L17.8179 21.5994C17.889 21.7558 18.111 21.7558 18.1821 21.5994L18.9065 20.0058C18.9265 19.9618 18.9618 19.9265 19.0058 19.9065L20.5994 19.1821C20.7558 19.111 20.7558 18.889 20.5994 18.8179L19.0058 18.0935C18.9618 18.0735 18.9265 18.0382 18.9065 17.9942L18.1821 16.4006C18.111 16.2442 17.889 16.2442 17.8179 16.4006L17.0935 17.9942C17.0735 18.0382 17.0382 18.0735 16.9942 18.0935L15.4006 18.8179C15.2442 18.889 15.2442 19.111 15.4006 19.1821L16.9942 19.9065Z" fill="black"/>-->
<!--              </svg>-->
<!--              <button *ngIf="!_showTrends" [disabled]="_aiLoading" type="button" class="kButtonDefault" pButton (click)="showTrends(true)" label="Calculate Trends" style="margin-left: 'auto'"></button>-->
<!--              <button *ngIf="_showTrends" [disabled]="_aiLoading" type="button" class="kButtonDefault" pButton (click)="showTrends(false)" label="Hide Trends" style="margin-left: 'auto'"></button>-->
<!--            </div>-->
<!--            <div class="aiResponse">-->

<!--              <ul *ngIf="!_showTrends">-->
<!--                <span *ngIf="!_aiLoading" class="trendTitle">Categories</span>-->
<!--                <li *ngFor="let category of _categories">-->
<!--                  <span>{{category.category}}</span>-->
<!--                  <span style="margin-left: 12px">{{category.percent}}%</span>-->
<!--                </li>-->
<!--              </ul>-->
<!--              <ul *ngIf="_showTrends">-->
<!--                <span *ngIf="!_aiLoading" class="trendTitle">Monthly trends</span>-->
<!--                <li *ngFor="let trend of _trends">-->
<!--                  <span>{{trend.categoryName}}</span>-->
<!--                  <i *ngIf="!trend.negative" class="trend icon-progress" style="color: '#00a784'"></i>-->
<!--                  <i *ngIf="trend.negative" class="trend icon-regression" style="color: '#db1f26'"></i>-->
<!--                  <span [ngStyle]="{'color': trend.negative ? '#db1f26' : '#00a784'}">{{trend.changePercent}}%</span>-->
<!--                </li>-->
<!--              </ul>-->

<!--            </div>-->
          </div>
        </div>
      </div>
    </k-area-blocker>
  </div>
</div>
