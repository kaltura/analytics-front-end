<div data-aid="report-mini-top-videos" class="kReport kOverrideFAIcons">
  <div class="kFilters">
    <span class="kTitle">Top search terms in the last 2 weeks</span>
  </div>
  <div class="kReportContent">
    <k-area-blocker [showLoader]="_loading" [message]="_blockerMessage">
      <div class="divider">
        <div class="chart">
          <div class="header">
            <p-selectButton [options]="_viewOptions" [(ngModel)]="_selectedView"></p-selectButton>
            <button type="button" class="kButtonDefault" pButton (click)="exportChart()" icon="icon-pdf" [kTooltip]="'Export PDF'"></button>
          </div>
          <div id="wordsCloud" [class.shown]="_searchTermsLoaded && _selectedView==='cloud'">
            <div class="cover"></div>
          </div>
          <div class="table" [class.shown]="_selectedView!=='cloud'">
            <p-table [value]="searchTerms">
              <ng-template pTemplate="header">
                <tr>
                  <th>Search Term</th>
                  <th  pSortableColumn="value">Count<p-sortIcon field="value"></p-sortIcon></th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-term>
                <tr>
                  <td>{{term.x}}</td>
                  <td>{{term.value}}</td>
                </tr>
              </ng-template>
            </p-table>
          </div>
        </div>

        <div class="insights" *ngIf="!_loading">
          <div class="row">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M19.4552 10.9986C19.2775 11.3894 18.7225 11.3894 18.5448 10.9986L17.4375 8.5625L15.0014 7.45518C14.6106 7.27755 14.6106 6.72245 15.0014 6.54482L17.4375 5.4375L18.5448 3.0014C18.7225 2.61061 19.2775 2.6106 19.4552 3.0014L20.5625 5.4375L22.9986 6.54482C23.3894 6.72245 23.3894 7.27755 22.9986 7.45518L20.5625 8.5625L19.4552 10.9986Z" fill="black"/>
              <path d="M9.45518 19.9986C9.27755 20.3894 8.72245 20.3894 8.54482 19.9986L6.5 15.5L2.0014 13.4552C1.61061 13.2775 1.61061 12.7225 2.0014 12.5448L6.5 10.5L8.54482 6.0014C8.72245 5.61061 9.27755 5.61061 9.45518 6.0014L11.5 10.5L15.9986 12.5448C16.3894 12.7225 16.3894 13.2775 15.9986 13.4552L11.5 15.5L9.45518 19.9986Z" fill="black"/>
              <path d="M16.9942 19.9065C17.0382 19.9265 17.0735 19.9618 17.0935 20.0058L17.8179 21.5994C17.889 21.7558 18.111 21.7558 18.1821 21.5994L18.9065 20.0058C18.9265 19.9618 18.9618 19.9265 19.0058 19.9065L20.5994 19.1821C20.7558 19.111 20.7558 18.889 20.5994 18.8179L19.0058 18.0935C18.9618 18.0735 18.9265 18.0382 18.9065 17.9942L18.1821 16.4006C18.111 16.2442 17.889 16.2442 17.8179 16.4006L17.0935 17.9942C17.0735 18.0382 17.0382 18.0735 16.9942 18.0935L15.4006 18.8179C15.2442 18.889 15.2442 19.111 15.4006 19.1821L16.9942 19.9065Z" fill="black"/>
            </svg>
            <span class="aiTitle">AI Analysis</span>
          </div>
          <div class="aiResponse" [class.blink]="_aiLoading">{{AIResponse}}</div>
        </div>
      </div>
    </k-area-blocker>
  </div>
</div>
