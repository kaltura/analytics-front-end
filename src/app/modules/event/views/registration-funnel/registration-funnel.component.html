<div class="kReport kFunnel kOverrideFAIcons">
  <k-area-blocker [message]="_blockerMessage" [showLoader]="_isBusy">
    <div class="kReportContent" aria-labelledby="kImpressions">

      <div class="kTurnout">
        <div class="kMiniIcon"><i class="icon-small-Completion-Rate"></i></div>
        <span *ngIf="!disabled" class="kValue">{{turnout}}%</span>
        <span *ngIf="disabled" class="kValue">{{'app.common.na' | translate}}</span>
        <span class="kLabel">{{'app.ve.turnout' | translate}}</span>
        <kInputHelper *ngIf="!exporting">
          <span>{{'app.ve.turnout_tt' | translate}}</span>
        </kInputHelper>
        <a class="kLink" *ngIf="!exporting" (click)="seeMore()">{{'app.entryEp.highlights.seeMore' | translate}}</a>
      </div>

<!--      <div *ngIf="!disabled" class="kTurnout unregistered">-->
<!--        <span class="kValue">{{_unregistered}}</span>-->
<!--        <span class="kLabel">{{'app.ve.unregistered' | translate}}</span>-->
<!--        <kInputHelper *ngIf="!exporting">-->
<!--          <span>{{'app.ve.unregistered_tt' | translate}}</span>-->
<!--        </kInputHelper>-->
<!--      </div>-->

      <div class="kData" *ngIf="_chartLoaded">
        <div class="kDataContainer" aria-label="Registered">
          <div class="data">
            <span class="kValue">{{_funnelData.registered | numberFormat}}</span>
            <span class="kLabel">{{'app.ve.all' | translate}}</span>
            <kInputHelper *ngIf="!exporting">
              <span>{{'app.ve.registered_tt' | translate}}</span>
            </kInputHelper>
          </div>

        </div>

        <div class="kDataContainer" aria-label="Participated" *ngIf="_showConfirmed">
          <div class="data">
            <span class="kValue">{{_funnelData.confirmed | numberFormat}}</span>
            <span class="kLabel">{{'app.ve.confirmed' | translate}}</span>
            <kInputHelper *ngIf="!exporting">
              <span>{{'app.ve.confirmed_tt' | translate}}</span>
            </kInputHelper>
          </div>
        </div>

        <div class="kDataContainer" aria-label="Participated">
          <div class="data">
            <span class="kValue">{{_funnelData.participated | numberFormat}}</span>
            <span class="kLabel">{{'app.ve.participated' | translate}}</span>
            <kInputHelper *ngIf="!exporting">
              <span>{{'app.ve.participated_tt' | translate}}</span>
            </kInputHelper>
          </div>
          <div class="data">
            <span class="kValue noBold">{{postEvent}}%</span>
            <span class="kLabel noBold">{{'app.ve.postParticipated' | translate}}</span>
          </div>
        </div>
      </div>

      <div class="kCharts" *ngIf="!disabled" [style.opacity]="_chartLoaded ? 1 : 0">
        <div class="kChart">
          <div aria-label="Impressions Funnel" echarts class="kChart"  [options]="_chartData" (chartInit)="onChartInit($event)"></div>
        </div>
      </div>
      <span *ngIf="disabled" class="old">{{'app.ve.old' | translate}}</span>
    </div>

  </k-area-blocker>
</div>

