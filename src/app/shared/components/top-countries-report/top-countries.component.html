<div data-aid="report-entry-top-countries" class="kReport kNoMargin kOverrideFAIcons" [class.kCompare]="_isCompareMode">
  <div class="kFilters">
    <h2 *ngIf="!_drillDown.length" class="kTitle" id="kTopCountries">{{'app.entry.topCountries' | translate}}</h2>
    <div class="kBreadcrumbs" *ngIf="_drillDown.length">
      <a tabindex="0" class="kBreadcrumbsLink" (click)="_drillDownTop()" (keydown.enter)="_drillDownTop()">
        {{'app.audience.geo.top' | translate}}
      </a>
      <span class="separator">/</span>
      <span *ngIf="_drillDown.length === 1">{{_drillDown[0]}}</span>
      <a  tabindex="0" *ngIf="_drillDown.length === 2"
          class="kBreadcrumbsLink"
          (click)="_onDrillDown({ drillDown: _drillDown[0], reload: true })"
          (keydown.enter)="_onDrillDown({ drillDown: _drillDown[0], reload: true })">
        {{_drillDown[0]}}
      </a>
      <span *ngIf="_drillDown.length === 2" class="separator">/</span>
      <span *ngIf="_drillDown.length === 2">{{_drillDown[1]}}</span>
    </div>
  </div>

  <k-area-blocker [message]="_blockerMessage" [showLoader]="_isBusy">
    <app-geo #categoryCompareGeo *ngIf="_isCompareMode"
                   aria-labelledby="kTopCountries"
                   name="compare"
                   [drillDownItems]="_drillDown"
                   [mapData]="_mapData"
                   [tableData]="_compareTableData"
                   [isBusy]="_isBusy"
                   [isCompareMode]="_isCompareMode"
                   [showTrend]="false"
                   [distributionCalculationKey]="_distributionCalculationKey"
                   [distributionKey]="_distributionKey"
                   [periodTitle]="_comparePeriodTitle"
                   (onDrillDown)="_onDrillDown($event)"></app-geo>
    <app-geo #categoryGeo
                   aria-labelledby="kTopCountries"
                   name="current"
                   [drillDownItems]="_drillDown"
                   [mapData]="_mapData"
                   [tableData]="_tableData"
                   [isBusy]="_isBusy"
                   [distributionCalculationKey]="_distributionCalculationKey"
                   [distributionKey]="_distributionKey"
                   [periodTitle]="_currentPeriodTitle"
                   [isCompareMode]="_isCompareMode"
                   [showTrend]="_isCompareMode"
                   (onDrillDown)="_onDrillDown($event)"></app-geo>

  </k-area-blocker>
</div>

